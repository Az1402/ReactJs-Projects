"use strict";!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.list=e():t.list=e()}(self,(()=>(self.webpackChunk=self.webpackChunk||[]).push([[93,685],{9626:(t,e,s)=>{s.r(e),s.d(e,{default:()=>$});var a=s(4168),i=(s(4844),s(2736)),o=s(1221),n=s(1115),l=s(3202),r=s(2457),c=s(9007),h=s(9448),d=s(8291),u=s(6139),g=s(468);function p(t,e,s){var a;return(e="symbol"==typeof(a=function(t,e){if("object"!=typeof t||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var a=s.call(t,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e))?a:String(a))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const m=class{constructor({data:t=null,creator:e=null,callback:s=null}={}){p(this,"div",null),p(this,"creator",null),p(this,"$content",null),p(this,"$button",null),p(this,"$cancel",null),p(this,"$controls",null),p(this,"state",null),p(this,"callback",null),p(this,"palettes",null),p(this,"$paletteList",null),p(this,"$setList",null),this.creator=e,this.state=t&&t.state,this.callback=s;const a=(0,o.Z)("<div>").addClass("c-button-text");this.$content=(0,o.Z)(".js-palette-selector"),this.$button=(0,o.Z)("<div>").text("select icon").addClass("c-button-text__button").appendTo(a),this.$text=(0,o.Z)("<span>").addClass("c-button-text__text").appendTo(a),this.$controls=(0,o.Z)(".js-palette-selector__controls"),this.$submit=(0,o.Z)(".js-palette-selector__submit"),this.$cancel=(0,o.Z)(".js-palette-selector__cancel"),this.$paletteList=(0,o.Z)(".js-palette-selector__items"),this.$setList=(0,o.Z)(".js-palette-selector__sets"),this.div=a[0]}activate(){this.$button.on("click",(t=>{t.stopPropagation(),t.preventDefault(),this.show()})),this.$paletteList.on("click",(t=>this.onPaletteListClick(t))),this.$submit.on("click",(t=>{t.stopPropagation(),t.preventDefault(),this.loadIcons()})),this.$cancel.on("click",(t=>{t.stopPropagation(),t.preventDefault(),this.hide()})),this.onUpdate()}deactivate(){[this.$content,this.$button,this.$cancel,this.$submit,this.$paletteList].forEach((t=>{t&&t.off()}))}onUpdate(){this.creator&&this.creator.draw()}async show(){this.$content.addClass("active"),await d.Z.show(),this.addSets()}clear(){this.$paletteList.empty()}addSets(){const t=document.createDocumentFragment(),e=[0,1,2,3,4,5,6],s=[{colorLut:0,title:"vibrant",colorSchemes:e},{colorLut:1,title:"retro",colorSchemes:e},{colorLut:2,title:"light",colorSchemes:e},{colorLut:3,title:"contrast",colorSchemes:e},{colorLut:4,title:"hoi",colorSchemes:e}];s.forEach((e=>{(0,o.Z)("<li>").addClass("b-palette-selector__set").text(e.title).on("click",(()=>{this.addPalettes({set:e})})).appendTo(t)})),this.addPalettes({set:s[0]}),this.$setList[0].appendChild(t)}addPalettes({set:t}){this.clear(),this.palettes=[];const e=document.createDocumentFragment(),s=t=>(0,o.Z)(`<${t}>`,o.Z.SVG_NAMESPACE),a=[];for(let t=0;t<360;t+=20)a.push(t);t.colorSchemes.forEach((e=>{a.forEach((s=>{const a=u.Z.getRandomPalette({colorLut:t.colorLut,hue:s,colorScheme:e});this.palettes.push(a)}))})),this.palettes.forEach(((t,a)=>{const i=(0,o.Z)("<li>").addClass("b-palette-selector__item").data("index",a).appendTo(e),n=s("svg").addClass("b-palette-selector__swatch").attributes({viewBox:"0 0 64 64"}).appendTo(i);s("path").attributes({d:"M0,32C0,8,8,0,32,0l0,0c24,0,32,8,32,32l0,0c0,24-8,32-32,32l0,0C8,64,0,56,0,32z",fill:t.state.background.color}).appendTo(n),s("circle").attributes({cx:32,cy:32,r:12,fill:t.state.symbol.color}).appendTo(n),s("circle").attributes({cx:32,cy:32,r:6,fill:t.state.symbolContent.color}).appendTo(n);const l=-Math.PI/8,r=21*Math.cos(l),c=21*Math.sin(l);s("path").attributes({d:`M${32-r} ${32-c} A21 21 0 0 0 ${32+r} ${32-c}`,"stroke-width":6,"stroke-linecap":"round",stroke:t.state.name.color,fill:"none"}).appendTo(n)})),this.$paletteList[0].appendChild(e)}onPaletteListClick(t){try{let e=t.target;for(;e&&e.nodeName&&"li"!==e.nodeName.toLowerCase();)e=e.parentNode;const s=(0,o.Z)(e);this.activatePalette(this.palettes[s.data("index")]),this.$paletteList.off()}catch(t){g.Z.captureError(t)}}hide(){this.$content.removeClass("active"),d.Z.hide()}async activatePalette(t){this.clear(),this.$setList.empty(),this.callback&&this.callback(t),this.hide()}};var v=s(6046),f=s(3691),y=s(8323),w=s(1494),x=s(6427);function b(t,e,s){var a;return(e="symbol"==typeof(a=function(t,e){if("object"!=typeof t||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var a=s.call(t,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e))?a:String(a))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const $=new class{constructor(){b(this,"LOGOS_PER_PAGE",20),b(this,"PRESET_CHANCE",.1),b(this,"icons",null),b(this,"selector",null),b(this,"text",null),b(this,"sloganText",null),b(this,"keywords",null),b(this,"hue",null),b(this,"industryIndex",null),b(this,"page",0),b(this,"maxPages",5),b(this,"$scrollIndicator",null),b(this,"isScrollIndicatorVisible",null),b(this,"$previousFocusedDiv",null),b(this,"creators",[]),b(this,"translations",{}),b(this,"icon",null),b(this,"palette",null),b(this,"$changeBasicDetails",null),b(this,"$changeName",null),b(this,"$changeSlogan",null),b(this,"$changeIcon",null),b(this,"$changePalette",null),b(this,"hasChangedText",!1),b(this,"iconShuffleIndex",0),b(this,"originalText",""),b(this,"originalSlogan",""),b(this,"presets",null),b(this,"presetIndex",0),o.Z.ready((()=>{const t=window.mybrandnewlogo,e=t.list;this.translations=t.translations,this.start(e.selector,{text:e.text,sloganText:e.slogan,hue:e.hue,industryIndex:e.industryIndex,keywords:e.keywords,state:e.state,variation:e.variation,modal:e.modal})}))}async start(t="js-logo-list",{text:e=null,sloganText:s=null,hue:a=null,industryIndex:i=null,keywords:n=null,state:r=null,variation:d=null,modal:u=null}={}){this.selector=t,this.text=unescape(e||""),this.sloganText=unescape(s||""),this.keywords=n?JSON.parse(unescape(n)).map((t=>t.value?t.value.replace(/_/gi," "):"")).join(", "):null,this.hue=unescape(a||""),this.industryIndex=unescape(i),this.variation=unescape(d||""),this.state=r,this.icon=new h.Z({callback:async t=>{this.icons=[t],this.creators.forEach((t=>{t.showLoading()}));for(const e of this.creators){if(e.logo.state.type.shapeIcon){e.logo.state.type.shapeIcon.state.data.set(t.svg),e.logo.state.type.shapeIcon.state.id.set(t.id),e.logo.state.type.shapeIcon.state.term.set(t.term);const s=e.logo.getState({texts:!0});e.recreate({state:s,sloganText:s.sloganText||""})}e.hideLoading(),await l.Z.wait()}}}),this.palette=new m({callback:async t=>{this.creators.forEach((t=>{t.showLoading()}));for(const e of this.creators)t.ids.forEach((s=>{e.logo.state.type.state.colors.setColor(s,t.state[s].color),e.logo.state.type.state.colors.setGradient(s,t.state[s].gradient)})),e.logo.state.type.updateLinks(),e.draw(),e.hideLoading(),await l.Z.wait()}}),this.$scrollIndicator=(0,o.Z)(".js-scroll-indicator"),this.$changeBasicDetails=(0,o.Z)(".js-change-basic-details"),this.$changeName=(0,o.Z)(".js-change-name"),this.$changeSlogan=(0,o.Z)(".js-change-slogan"),this.$changeIcon=(0,o.Z)(".js-change-icon"),this.$changePalette=(0,o.Z)(".js-change-palette"),this.$changeName.value()||this.$changeName.value(this.text),this.$changeSlogan.value()||this.$changeSlogan.value(this.sloganText||""),this.originalText=this.$changeName.value(),this.originalSlogan=this.$changeSlogan.value(),this.$changeIcon.on("click",(()=>{this.icon.activate(),this.icon.show()})),this.$changePalette.on("click",(()=>{this.palette.activate(),this.palette.show()}));const g=(0,v.Z)((()=>this.changeText()),1);this.$changeName.on("input",(()=>g())),this.$changeSlogan.on("input",(()=>g())),new c.Z((()=>!0),.5).onLoop((()=>{this.checkScroll()})).loop().start();const p=this.addItems();if(this.installRegisterPopup(u),u)return;this.presets=await this.getPresets(),this.presets=(0,y.Z)(this.presets);let f=this.keywords?this.keywords.split(",").map((t=>t.replace(/^\s+|\s+$/g,""))):[];if(f.length||(f=e||s?`${e||""} ${s||""}`.split(/\b/):[]),this.variation&&(f=[]),this.countIndustry(),this.icons=await this.getIcons(f),0===this.icons.length&&f[0]){const t=await this.getRelatedTerms(f[0]);this.icons=await this.getIcons(t)}(0,o.Z)(".js-show-more").on("click",(async()=>{this.$changeBasicDetails.removeClass("active"),this.page>=this.maxPages&&(this.creators.forEach((t=>{t.destroy()})),this.creators=[],(0,o.Z)(this.selector).empty(),this.page=0,window.scroll(0,0),(0,o.Z)(".js-show-more").html(this.translations.makeMore));const t=this.addItems();this.page>=this.maxPages&&(0,o.Z)(".js-show-more").html(this.translations.clearAllAndMakeMore);for(const e of t)await e.load();this.$changeBasicDetails.addClass("active")}));for(const t of p)await t.load();this.$changeBasicDetails.addClass("active")}async changeText(){this.hasChangedText=!0,this.text=this.$changeName.value(),this.sloganText=this.$changeSlogan.value();const t=this.text||"?",e=this.sloganText||"",s=this.creators[0].getSymbolText(t);this.originalText=t,this.originalSlogan=e,this.creators.forEach((t=>{t.showLoading()}));let a=0;for(const i of this.creators){try{if(!i.logo)throw new Error("no logo to change text on");i.validateTexts({name:t,slogan:e,monogram:s})?(i.logo.state.type.shapeName&&(i.logo.state.type.shapeName.state.text.set(t),i.logo.state.type.state.elements.name.state.text.set(t)),i.logo.state.type.shapeSlogan&&(i.logo.state.type.shapeSlogan.state.text.set(e),i.logo.state.type.state.elements.slogan.state.text.set(e)),i.logo.state.type.shapeLetter&&(i.logo.state.type.shapeLetter.state.text.set(s),i.logo.state.type.state.elements.letter.state.text.set(s)),this.updateSavedState(i.logo.state,i.logo.state.saved),i.logo.state.type.recreatedFromSavedState=!0,i.draw(),(0,o.Z)(i.container).removeClass("error")):(0,o.Z)(i.container).addClass("error")}catch(t){0===a&&g.Z.captureError(t)}i.hideLoading(),await l.Z.wait(),a++}}checkScroll(){const t=window.pageYOffset<window.innerHeight;t!==this.isScrollIndicatorVisible&&(this.isScrollIndicatorVisible=t,this.$scrollIndicator.toggleClass("active",t))}installRegisterPopup(t=!1){const e=(0,o.Z)(".js-modal-register");e.length&&(t?(w.Z.addModal(e),e.trigger("open"),x.Z.trackEvent({event:"force_registration_modal"})):a.F.add((0,o.Z)(".js-show-more"),(t=>{t.isScrolledInOnce&&(w.Z.addModal(e),e.trigger("open"))}),{observeIn:null}))}async submitForm(t,{purchaseIntent:e=!1,variation:s,action:a=null}={}){if(t.isCreated)try{await(0,f.Z)(a||(0,o.Z)(this.selector).data("action"),{state:JSON.stringify(t.logo.getState({texts:!0})),"original-text":this.originalText,"original-slogan":this.originalSlogan,variation:s,"purchase-intent":Boolean(e)},{asForm:!0})}catch(t){}}addItems(){this.page++;const t=(0,o.Z)(this.selector)[0],e=[],s=`\n<div class="b-logo-card__action-wrap">\n\t<div class="b-logo-card__actions">\n\t\t<div class="c-button js-action-edit"><span class="icon icon-edit"></span> ${this.translations.edit}</div>\n\t</div>\n\t<div class="b-logo-card__iterate-wrap">\n\t\t<div class="b-logo-card__iterate-title">${this.translations.suggestions}:</div>\n\t\t<div class="b-logo-card__iterate js-iterate-font"><span class="icon icon-font"></span> ${this.translations.fonts}</div>\n\t\t<div class="b-logo-card__iterate js-iterate-color"><span class="icon icon-color"></span> ${this.translations.colors}</div>\n\t\t<div class="b-logo-card__iterate js-iterate-layout"><span class="icon icon-layout"></span> ${this.translations.layout}</div>\n\t</div>\n</div>\n<div class="b-logo-card__loading">\n\t<div class="b-logo-card__loading-icon"></div>\n</div>\n`;for(let a=0;a<this.LOGOS_PER_PAGE;a++){const r=(0,o.Z)("<div>").addClass("b-logo-wrap").appendTo(t),c=(0,o.Z)("<div>").addClass("b-logo-card").attribute("id",`logo-${(0,n.Z)()}`).html(s).appendTo(r),h=c.find(".js-action-edit"),d=c.find(".js-action-purchase"),u=c.find(".b-logo-card__actions"),g=new i.Z(c.attribute("id"),{useCanvas:!1});this.creators.push(g),h.on("click",(()=>{this.submitForm(g)})),d.on("click",(()=>{this.submitForm(g,{purchaseIntent:!0})})),c.on("click",(t=>{/visible/i.test(u.css("visibility"))||(t.preventDefault(),t.stopPropagation(),c.addClass("focus"),this.$previousFocusedDiv&&this.$previousFocusedDiv.removeClass("focus"),this.$previousFocusedDiv=c)})),e.push({div:r[0],load:async()=>{await l.Z.wait();const t=this.state?JSON.parse(unescape(this.state)):null;this.hasChangedText&&this.updateSavedState(t,t?t.state:null);let e=null;Math.random()<this.PRESET_CHANCE&&!this.variation&&(e=this.getPreset());const s={text:t?t.text:this.text,sloganText:(t?t.sloganText:this.sloganText)||"",symbolText:t?t.symbolText:null,hue:null===this.hue||"null"===this.hue?null:this.hue,variation:0===a&&1===this.page?null:this.variation,savedState:e||t};if(this.icons&&this.icons.length){const t=this.icons[this.iconShuffleIndex++%this.icons.length];s.iconSVG=t.svg,s.iconID=t.id,s.iconTerm=t.term}await g.create(s)}});const p=(t,e=null)=>{t.preventDefault(),t.stopPropagation(),g.isCreated&&this.submitForm(g,{variation:e,action:(0,o.Z)(this.selector).data("logo-designs")})};c.find(".js-iterate-font").on("click",(t=>p(t,"font"))),c.find(".js-iterate-color").on("click",(t=>p(t,"color"))),c.find(".js-iterate-layout").on("click",(t=>p(t,"layout")))}return e}getPreset(){if(!this.presets||!this.presets.length)return null;const t=this.presetIndex++%this.presets.length,e=this.presets[t];return delete e.state.elements?.name?.text,delete e.state.elements?.slogan?.text,delete e.state.elements?.monogram?.text,delete e.state.elements?.icon?.data,e}updateSavedState(t,e){const s=this.creators[0].getSymbolText(this.text);t&&(t.text=this.text,t.sloganText=this.sloganText,t.symbolText=s),e&&(e.elements.name&&(e.elements.name.text=this.text),e.elements.slogan&&(e.elements.slogan.text=this.sloganText),e.elements.letter&&(e.elements.letter.text=s))}async countIndustry(){try{await(0,f.Z)(`${r.Vi.DOMAIN}/api/industry-count`,{industryIndex:null!==this.industryIndex&&-1!==this.industryIndex&&void 0!==this.industryIndex&&""!==this.industryIndex?Number(this.industryIndex):-1},{timeout:r.UI.FETCH_TIMEOUT})}catch(t){g.Z.captureError(t,{message:"failed counting industry"})}}async getIcons(t){const e=t.filter((t=>t.length>=3&&!/^(the|and|was|are)$/i.test(t)&&/^[a-z ]+$/i.test(t))).map((t=>t.toLowerCase())),s=[];for(let t=0;t<Math.min(e.length,3);t++){const a=e[t];try{const t=await(0,f.Z)(`${r.Vi.DOMAIN}/api/icons`,{iconsPerPage:100,industryIndex:null!==this.industryIndex&&-1!==this.industryIndex&&void 0!==this.industryIndex&&""!==this.industryIndex?Number(this.industryIndex):-1,term:a},{timeout:r.UI.FETCH_TIMEOUT});if(t.error)throw new Error(`failed: ${t.error}`);t.data&&t.data.forEach((t=>{s.push({url:t.icon_url,id:t.id,term:t.term,numCollections:t.collections?t.collections.length:0})}))}catch(t){}}const a=[],i=[];for(let t=0;t<Math.min(s.length,20);t++)a.push(new Promise((async e=>{const a=await this.timeoutFetch(s[t].url).catch((()=>null));a&&(s[t].svg=await a.text(),i.push(s[t])),e()})));return await Promise.all(a),[...(0,y.Z)(i.filter((t=>t.numCollections>0))),...(0,y.Z)(i.filter((t=>0===t.numCollections)))]}async getPresets(){let t=null;try{const e=await(0,f.Z)(`${r.Vi.DOMAIN}/api/get-presets`,null,{timeout:r.UI.FETCH_TIMEOUT});if(e.error)throw new Error(`failed: ${e.error}`);e.data&&(t=e.data)}catch(t){}return t}async getRelatedTerms(t){let e=[];try{const s=await(0,f.Z)(`${r.Vi.DOMAIN}/api/icons/related-terms`,{term:t},{timeout:r.UI.FETCH_TIMEOUT});s.error?g.Z.captureError(`failed: ${s.error}`):s.words&&(e=s.words.slice(0,3))}catch(t){}return e}timeoutFetch(t,e={}){return new Promise((async(s,a)=>{const i=window.setTimeout((()=>{a(new Error("fetch timed out"))}),1e3*(void 0===e.seconds?r.UI.FETCH_TIMEOUT:e.seconds));try{const a=await fetch(t,e);window.clearTimeout(i),s(a)}catch(t){a(t)}}))}onScrollItem(t,e,s){if(!s)return;const a=(2*e-1)**3*this.smoothScroller.height*.2,i=(1-Math.abs((2*e-1)**8)).toFixed(3);t.css({transform:`translate3d(0, ${a.toFixed(3)}px, 0)`,opacity:i})}}},4844:(t,e,s)=>{s.r(e),s.d(e,{default:()=>r}),s(4168);var a=s(2457),i=s(1221),o=s(3691),n=s(468),l=s(6427);const r=new class{constructor(){var t,e,s,a;t=this,s=!1,(e="symbol"==typeof(a=function(t,e){if("object"!=typeof t||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var a=s.call(t,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e="isProcessing"))?a:String(a))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,i.Z.ready((()=>this.start()))}start(){const t=(0,i.Z)(".js-submit-register");t.off().on("click",(e=>{e.preventDefault(),e.stopPropagation(),this.onRegister({action:t.data("action")||`${a.Vi.DOMAIN}/api/register`,name:(0,i.Z)("#name").value(),email:(0,i.Z)("#email").value(),password:(0,i.Z)("#password").value(),newsletter:(0,i.Z)("#newsletter").value()})}))}async onRegister({action:t=null,name:e=null,email:s=null,password:a=null,newsletter:r=null}={}){this.isProcessing||(this.isProcessing=!0,await Promise.all([(0,o.Z)(t,{name:e,email:s,password:a,newsletter:r},{error:"error creating your account",useServerError:!0,isInBody:!(0,i.Z)(".js-modal-register").length,onSuccess:async()=>{await l.Z.trackRegister()}})]).catch((t=>{n.Z.captureError(t)})),this.isProcessing=!1)}}}},t=>{var e=e=>t(t.s=e);return t.O(0,[951,851,13,242,139,710,893],(()=>(e(3407),e(9626)))),t.O()}])));